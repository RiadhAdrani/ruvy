# Types

<br/>

## `PortalProps`

```ts
type PortalProps = PropsWithUtility<{ container: Element }>;
```

Props used for [`<Portal/>`](/docs/api/portal) component.

<br/>

@see [`PropsWithUtility`](#propswithutility)

---

## `PortalBranchType`

```ts
type PortalBranchType = typeof Portal;
```

Branch type for [`<Portal/>`](/docs/api/portal) component.

---

## `Namespace`

```ts
enum Namespace {
  HTML = 'http://www.w3.org/1999/xhtml',
  SVG = 'http://www.w3.org/2000/svg',
  MATH = 'http://www.w3.org/1998/Math/MathML',
}
```

Accepted namespaces for DOM element rendering.

---

## `BranchTag`

```ts
enum BranchTag {
  Function = '#-function-branch',
  Element = '#-element-branch',
  Root = '#-root-branch',
  Fragment = '#-fragment-branch',
  Text = '#-text-branch',
  Null = '#-null-branch',
  Outlet = '#-outlet-branch',
  Context = '#-context-branch',
  Portal = '#-portal-branch',
  Conditional = '#-conditional-branch',
}
```

Enumeration of the possible Branch tags.

---

## `BranchTag`

```ts
enum HookType {
  State = '#-use-state',
  Effect = '#-use-effect',
  Memo = '#-use-Memo',
  Ref = '#-use-ref',
  Context = '#-use-context',
  Reactive = '#-use-reactive',
  Promise = '#-use-promise',
}
```

Enumeration of the possible Hook types.

---

## `BranchStatus`

```ts
enum BranchStatus {
  Mounted = '#-mounted',
  Mounting = '#-pending',
  Unmounting = '#-un-mounting',
  Unmounted = '#-un-mounted',
}
```

Includes branch status.

---

## `ActionType`

```ts
enum ActionType {
  Render = '#-action-render-element',
  Reorder = '#-action-order-elements',
  Cleanup = '#-action-clean-effect',
  Effect = '#-action-run-effect',
  Unmount = '#-action-unmount-element',
  UpdateProps = '#-action-update-props',
  UpdateText = '#-action-text-node',
  Unmounted = '#-action-unmounted',
  RemoveBranch = '#-action-remove-branch',
  UpdatePortalChildren = '#-action-update-portal-children',
}
```

Enumeration of the different commit action types.

---

## `UseMemoData`

```ts
interface UseMemoData<T = unknown> {
  deps: unknown;
  value: T;
}
```

Schema of the data store in a [`useMemo`](/docs/api/useMemo) hook.

---

## `UseMemoParams`

```ts
interface UseMemoParams<T = unknown> {
  callback: () => T;
  deps?: unknown;
}
```

Schema of the data needed for [`useMemo`](/docs/api/useMemo) hook.

---

## `UseRefData`

```ts
interface UseRefData<T = unknown> {
  value: T;
}
```

Schema of the data store in [`useRef`](/docs/api/useRef) hook.

---

## `Effect`

```ts
type Effect = Callback<Callback | void>;
```

Type for multiple effects creator, like the [`useEffect`](/docs/api/useEffect) hook.

---

## `UseEffectData`

```ts
interface UseEffectData {
  deps: unknown;
  callback: Effect;
  cleanUp?: Effect;
  pendingEffect?: Effect;
  pendingCleanUp?: Effect;
}
```

Schema of the data store in [`useEffect`](/docs/api/useEffect) hook.

---

## `UseEffectParams`

```ts
type UseEffectParams = Pick<UseEffectData, 'callback' | 'deps'>;
```

Schema of the data needed for [`useEffect`](/docs/api/useEffect) hook.

<br/>

@see [`UseEffectData`](#useeffectdata)

---

## `UsePromiseState`

```ts
type UsePromiseState = 'pending' | 'refreshing' | 'resolved' | 'rejected';
```

Describe state of the [`usePromise`](/docs/api/usePromise) hook.

---

## `UsePromiseParams`

```ts
type UsePromiseParams<T = unknown> = Callback<Promise<T>>;
```

Schema of the data needed for the [`usePromise`](/docs/api/usePromise) hook.

---

## `UsePromiseReturn`

```ts
type UsePromiseReturn<T = unknown> = [UsePromiseState, T | undefined, Callback];
```

Describe array returned by [`usePromise`](/docs/api/usePromise) hook.

<br/>

@see [`UsePromiseState`](#usepromisestate)

---

## `UsePromiseReturn`

```ts
type UsePromiseData<T = unknown> = {
  callback: Callback<Promise<T>>;
  state: UsePromiseState;
  value: T | undefined;
};
```

Schema of the data store in the [`usePromise`](/docs/api/usePromise) hook.

<br/>

@see [`UsePromiseState`](#usepromisestate)

---

## `BranchProps`

```ts
type BranchProps = Record<string, unknown>;
```

Describe object storing a branch props.

---

## `BranchHooks`

```ts
type BranchHooks = Record<string, HookData<unknown>>;
```

Describe object storing a branch hooks.

<br/>

@see [`HookData`](#hookdata)

---

## `BranchKey`

```ts
type BranchKey = string | number;
```

Valid types of a branch/component key.

---

## `BranchTemplate`

```ts
interface BranchTemplate<T = unknown> {
  type: T;
  props: Record<string, unknown>;
  children: Array<unknown>;
  symbol: typeof BranchSymbol;
  key?: BranchKey;
}
```

Describes template generated by `JSX` components.

<br/>

@see [`BranchKey`](#branchkey)

---

## `BranchTemplateFunction`

```ts
type BranchTemplateFunction = BranchTemplate<CallbackWithArgs<[Record<string, unknown>], unknown>>;
```

Describes template generated by a `JSX` functional component.

<br/>

@see [`BranchTemplate`](#branchtemplate)

---

## `FragmentType`

```ts
type FragmentType = typeof createFragmentTemplate;
```

Branch type of a `JSX` fragment element.

---

## `BranchTemplateFragment`

```ts
type BranchTemplateFragment = BranchTemplate<FragmentType>;
```

Describes template generated by a fragment `JSX` component.

<br/>

@see [`BranchTemplate`](#branchtemplate), [`FragmentType`](#fragmenttype)

---

## `HookDispatcher`

```ts
type HookDispatcher<D, R> = (key: string, data: D, current: Branch) => R;
```

Describes a common hook dispatcher.

<br/>

@see [`Branch`](#branch)

---

## `BranchAction`

```ts
interface BranchAction {
  type: ActionType;
  requestTime: number;
  callback: Callback;
  debug?: unknown;
}
```

Schema of a commit action.

<br/>

@see [`ActionType`](#actiontype)

---

## `Branch`

```ts
interface Branch<Type = unknown> {
  text?: string;
  tag: BranchTag;
  type: Type;
  props: BranchProps;
  hooks: BranchHooks;
  pendingActions: Array<BranchAction>;
  parent?: Branch;
  status: BranchStatus;
  children: Array<Branch>;
  instance?: Node;
  key: BranchKey;
  old?: Branch;
  unmountedChildren: Array<Branch>;
}
```

Schema of a Branch, the equivalent of a `Fiber` in `React`.

<br/>

@see [`BranchTag`](#branchtag), [`BranchProps`](#branchprops), [`BranchHooks`](#branchhooks), [`BranchAction`](#branchaction), [`BranchStatus`](#branchstatus), [`BranchKey`](#branchkey)

---

## `PropDiff`

```ts
interface PropDiff<T = unknown> {
  prop: string;
  value: T;
  op: 'set' | 'update' | 'remove';
  priority: number;
}
```

Result of an element's prop diffing operation.

---

## `RuvyNode`

```ts
type RuvyNode = BranchTemplate | string | boolean | null | undefined | number;
```

Possible types of a Ruvy `JSX` element.

<br/>

@see [`BranchTemplate`](#branchtemplate)

---

## `RuvyNode`

```ts
type RuvyNode = BranchTemplate | string | boolean | null | undefined | number;
```

Possible types of a Ruvy `JSX` element.

<br/>

@see [`BranchTemplate`](#branchtemplate)

---

## `ContextObject`

```ts
interface ContextObject<T = unknown> {
  Provider: (props: ContextComponentProps<T>) => BranchTemplate<BranchTag.Context>;
}
```

Object schema created by the [`createContext`](/docs/api/createContext) method.

<br/>

@see [`BranchTemplate`](#branchtemplate), [`ContextComponentProps`](#contextcomponentprops), [`BranchTag`](#branchtag)

---

## `ContextComponentProps`

```ts
interface ContextComponentProps<T = unknown> {
  value: T;
  children?: Array<unknown>;
}
```

Props needed for a context provider component.

---

## `ComponentHandler`

### `@deprecated`

```ts
interface ComponentHandler<B = unknown, T = BranchTemplate, D = unknown> {
  create: (template: T, parent: Branch, key: BranchKey, data?: D) => Branch<B>;
  diff: (template: T, current: Branch<B>, data?: D) => Array<unknown>;
}
```

Describe a common component handler generator.

<br/>

@see [`BranchTemplate`](#branchtemplate), [`Branch`](#branch), [`BranchKey`](#branchkey),

---

## `ComponentFunctionHandler`

```ts
type ComponentFunctionHandler<T = BranchTemplate, B = unknown, D = unknown> = (
  template: T,
  current: Branch<B> | undefined,
  parent: Branch,
  key: BranchKey,
  data?: D
) => { branch: Branch<B>; unprocessedChildren: Array<unknown> };
```

Describe a common component handler.

<br/>

@see [`BranchTemplate`](#branchtemplate), [`Branch`](#branch), [`BranchKey`](#branchkey),

---

## `MountParams`

```ts
interface MountParams {
  hostElement: HTMLElement;
  callback: Callback<JSX.Element>;
}
```

Describe parameters needed to mount a `Ruvy` app.

<br/>

---

## `CommonRoute`

```ts
interface CommonRoute<T = unknown> {
  path: string;
  redirectTo?: string;
  title?: string;
  name?: string;
  component: T;
}
```

Common routing properties.

<br/>

---

## `RawRoute`

```ts
interface RawRoute<T = unknown> extends CommonRoute<T> {
  routes?: Array<RawRoute<T>>;
}
```

Route schema for Router initialization.

<br/>

@see [`CommonRoute`](#commonroute)

---

## `Route`

```ts
interface Route<T = unknown> extends CommonRoute<T> {
  fragments: Array<string>;
  isDynamic: boolean;
}
```

Processed Router's route schema.

<br/>

@see [`CommonRoute`](#commonroute)

<br/>

---

## `TransformTitle`

```ts
type TransformTitle = (title: string) => string;
```

Transform current route's title before applying it.

---

## `RouterConstructorParams`

```ts
interface RouterConstructorParams {
  onStateChange: Callback;
  base?: string;
  scrollToTop?: boolean;
  titleSuffix?: string;
  titlePrefix?: string;
  transformTitle?: TransformTitle;
}
```

Router constructor parameters.

<br/>

@see [`TransformTitle`](#transformtitle)

## <br/>

## `RouterParams`

```ts
interface RouterParams {
  onStateChange: Callback;
  base?: string;
  scrollToTop?: boolean;
  titleSuffix?: string;
  titlePrefix?: string;
}
```

Parameters schema for [`createRouter`](/docs/api/createRouter)

<br/>

---

## `StoreItem`

```ts
interface StoreItem<T = unknown> {
  key: string;
  value: T;
  history: Array<T>;
  creationIndex: number;
}
```

Global store item instance schema.

<br/>

---

## `StoreEffect`

```ts
interface StoreEffect {
  key: string;
  dep: unknown;
  effect: EffectCallback;
  called: number;
  shouldRun: boolean;
  cleanUp?: Callback;
}
```

Global store effect instance schema.

<br/>

@see [`EffectCallback`](#effectcallback)

---

## `EffectCallback`

```ts
type EffectCallback = Callback<void | Callback>;
```

Globally stored effect.

---

## `StoreItemSetter`

```ts
type StoreItemSetter<T = unknown> = (key: string, value: T) => void;
```

Globally stored item's setter.

---

## `StoreItemGetter`

```ts
type StoreItemGetter<T = unknown> = (key: string) => T;
```

Globally stored item's getter.

---

## `StoreItemCleaner`

```ts
type StoreItemCleaner = (item: StoreItem, wasUsed: boolean) => void;
```

Globally stored item's cleaner.

---

## `StoreItemUpdate`

```ts
type StoreItemUpdate<T = unknown> = (key: string, value: T) => void;
```

Globally stored item's update function.

---

## `StoreEffectSetter`

```ts
type StoreEffectSetter = (key: string, effect: EffectCallback, dep: unknown) => void;
```

Globally stored effect's setter.

---

## `StoreEffectRunner`

```ts
type StoreEffectRunner = (item: StoreEffect) => void;
```

---

## `StoreEffectCleaner`

```ts
type StoreEffectCleaner = (item: StoreEffect, wasUsed: boolean) => void;
```

---

## `StoreCollection`

```ts
interface StoreCollection<T> {
  name: string;
  items: Record<string, T>;
  used: Array<string>;
}
```

---

## `StoreItemsCollection`

```ts
interface StoreItemsCollection extends StoreCollection<StoreItem> {
  set: StoreItemSetter;
  get: StoreItemGetter;
  clean: StoreItemCleaner;
  update: StoreItemUpdate;
}
```

---

## `StoreEffectsCollection`

```ts
interface StoreEffectsCollection extends StoreCollection<StoreEffect> {
  runner: StoreEffectRunner;
  clean: StoreEffectCleaner;
  set: StoreEffectSetter;
}
```

---

## `SetStateCallback`

```ts
type SetStateCallback<T> = (currentValue: T) => T;
```

callback used as a setter for [`useState`](/docs/api/useState).

---

## `StateSetter`

```ts
type StateSetter<T> = (valeuOrSetter: T | SetStateCallback<T>) => void;
```

setter function returned by [`useState`](/docs/api/useState).

<br/>

@see [`SetStateCallback`](#setstatecallback)

---

## `StateGetter`

```ts
type StateGetter<T> = Callback<T>;
```

getter function returned by [`useState`](/docs/api/useState).

---

## `StateInitializer`

```ts
type StateInitializer<T> = Callback<T>;
```

a state initializer function provided to [`useState`](/docs/api/useState).

---

## `StateArray`

```ts
type StateArray<T> = [T, StateSetter<T>, StateGetter<T>];
```

a state initializer function provided to [`useState`](/docs/api/useState).

<br/>

@see [`StateSetter`](#statesetter), [`StateGetter`](#stategetter)

---

## `Any`

```ts
type Any = any;
```

helper type.

---

## `PropsWithChildren`

### `@deprecated`

```ts
type PropsWithChildren<T extends object> = { children?: Array<RuvyNode> } & T;
```

---

## `CallbackWithArgs`

```ts
type CallbackWithArgs<A extends Array<unknown> = [], R = void> = (...args: A) => R;
```

---

## `DOMEventTarget`

```ts
type DOMEventTarget<T extends Element> = Event & T;
```

---

## `DOMEvent`

```ts
type DOMEvent<E extends Event = Event, T extends Element = HTMLElement> = Event &
  E & {
    target: DOMEventTarget<HTMLElement>;
    currentTarget: DOMEventTarget<T>;
  };
```

---

## `DOMEventHandler`

```ts
type DOMEventHandler<E extends Event = Event, T extends Element = HTMLElement> = (
  event: DOMEvent<E, T>
) => void;
```

---

## `Selector`

```ts
type Selector = { [key in keyof CSS.Properties]: Arrayable<CSS.Properties[key]> } & Record<
  string,
  unknown
>;
```

---

## `UtilityProps`

```ts
interface UtilityProps {
  children: Array<RuvyNode>;
  key: BranchKey;
  if: boolean;
  else: unknown;
  'else-if': boolean;
  switch: unknown;
  case: unknown;
  'case:default': unknown;
}
```

---

## `PropsWithUtility`

```ts
type PropsWithUtility<T extends object = object> = Partial<UtilityProps> & T;
```

@see [`UtilityProps`](#utilityprops)

---

## `NamedNavigationRequest`

```ts
interface NamedNavigationRequest {
  name: string;
  params?: Record<string, string | number>;
}
```

---

## `NavigationRequest`

```ts
type NavigationRequest = number | string | NamedNavigationRequest;
```

@see [`NamedNavigationRequest`](#namednavigationrequest)
